\ExplSyntaxOn
\newcommand\valueFromLevel[1]
{
	\if #1 A \number 12 \fi
	\if #1 B \number 10 \fi
	\if #1 C \number 8 \fi
	\if #1 D \number 6 \fi
}
\newtcolorbox{npc}[2][]
{
	colbacktitle=black!50!white,
	coltitle=white,
	title=#2,
	#1
}

\keys_define:nn { br / npc / attributes }
{
	strength .tl_set:N = \l__strength_tl,
	strength .initial:n = C,
	strength .value_required:n = true,
	agility .tl_set:N = \l__agility_tl, 
	agility .initial:n = C,
	agility .value_required:n = true,
	intelligence .tl_set:N = \l__intelligence_tl, 
	intelligence .initial:n = C,
	intelligence .value_required:n = true,
	empathy .tl_set:N = \l__empathy_tl, 
	empathy .initial:n = C,
	empathy .value_required:n = true,
}
\newlist {__br_npc_attributes}{description}{1}
\cs_new_protected_nopar:Npn \__br_npc_attributes:
{
	\begin {__br_npc_attributes}
		\item [Strength] \l__strength_tl
		\item [Agility] \l__agility_tl
		\item [Intelligence] \l__intelligence_tl
		\item [Empathy] \l__empathy_tl
		\item [Health] \number\numexpr(\valueFromLevel{\l__strength_tl}+\valueFromLevel{\l__agility_tl})/4\relax
		\item [Resolve] \number\numexpr(\valueFromLevel{\l__intelligence_tl}+\valueFromLevel{\l__empathy_tl})/4\relax
	\end{__br_npc_attributes}
}

\NewDocumentCommand{\BrNpcAttributes}{o}
{ 
	\group_begin:
		\keys_set:nn { br / npc / attributes }{#1}
		\__br_npc_attributes:
	\group_end:
}
